<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skywriter Threads iFrame</title>
    <style>
    body {
      background-color: #f4f4f4;
      color: #333;
    }

    body.dark-mode {
      background-color: #333;
      color: #f4f4f4;
    }

    /* Add more styles for dark mode elements if needed */
    body.dark-mode input,
    body.dark-mode select,
    body.dark-mode button {
      background-color: #555;
      color: #fff;
    }
    </style>
</head>
<body>
  <p style="font-size: 14px; font-family: sans-serif;">
  < Back to: - <a href="https://corkiejp.github.io/corkiejp.html">corkiejp's Social World</a>
  
  <br>Enter a site you would like to visit without any blocking. Some websites do not allow their site into an iframe (which is the box where the website is in) and you will need to enter the https://.</p>  

  <input type="text" id="linkInput" placeholder="Enter a link">  
  <button id="loadButton">Load Link</button>
  <button id="reloadButton">&#x21bb;</button> 
  <select id="linkDropdown"> 
    <option value="">-- Select a site --</option>
    <option value="./Page by Nicol√≤ Ribaudo _ @nicr.dev.html">Github Handle</option>
	<option value="https://skywriter.blue/pages/did:plc:qxlh6bohvep3taqhmtpipx4b/post/3ld5khcppwh2w">careful github</option>
	
  </select>
  <button id="darkModeToggle" style="position: fixed; top: 10px; right: 10px;">
    <span id="darkModeIcon">üåô</span>
  </button>
    <iframe id="threadsFrame" src="about:blank"
	style="width: 100%; height: calc(100vh - 100px);" frameborder="0"
    allowfullscreen>
	</iframe>



    <script>
	function loadUrl() {
    if (window.location.origin === 'https://corkiejp.github.io') {
        const urlParams = new URLSearchParams(window.location.search);
        const url = urlParams.get('url');
        if (url) {
            document.getElementById('threadsFrame').src = decodeURIComponent(url);
        } else {
            console.error('No URL provided');
        }
    } else {
        console.error('Access not allowed from this domain');
    }
}
window.onload = loadUrl;

        function loadUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            const url = urlParams.get('url');
            if (url) {
                document.getElementById('threadsFrame').src = decodeURIComponent(url);
            } else {
                console.error('No URL provided');
            }
        }
        window.onload = loadUrl;
    </script>
	 <script>
    function loadIframe(link) {
      const iframe = document.getElementById("threadsFrame");
      if (link) {
        iframe.src = link;
      }
    }    

    document.getElementById('loadButton').addEventListener('click', function() {
      loadIframe(document.getElementById('linkInput').value);
    });
    
    document.getElementById('linkDropdown').addEventListener('change', function() {
      loadIframe(this.value);
    });

    // Check for saved theme preference on load
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
      document.getElementById('darkModeIcon').textContent = '‚òÄÔ∏è';
    }

    document.getElementById('darkModeToggle').addEventListener('click', function() {
      document.body.classList.toggle('dark-mode');

      const darkModeIcon = document.getElementById('darkModeIcon');
      if (document.body.classList.contains('dark-mode')) {
        darkModeIcon.textContent = '‚òÄÔ∏è';
        localStorage.setItem('darkMode', 'enabled');
      } else {
        darkModeIcon.textContent = 'üåô';
        localStorage.setItem('darkMode', 'disabled');
      }
      
      // You can add logic here to store the user's preference
      // using localStorage if you want the theme to persist
      // across page reloads.
    });

    document.getElementById('reloadButton').addEventListener('click', function() {
      document.getElementById('myIframe').src = document.getElementById('myIframe').src;
    });

  </script>
</body>
</html>
